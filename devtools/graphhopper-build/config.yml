# GraphHopper Configuration - Road & Sea Routing
# Production-ready configuration for European truck routing + global sea routing (v11.0+)

graphhopper:
  custom_models.directory: /app
  # OSM data file location (mounted via Docker volume)
  datareader.file: /app/osm/europe-latest.osm.pbf

  # Graph cache directory (persisted across container restarts)
  graph.location: /app/graph-cache

  # Import settings
  import.osm.ignored_highways: footway,cycleway,path,pedestrian,steps

  # Graph encoded values (required for custom model)
  graph.encoded_values: road_access, car_access, hgv, max_width, max_height, car_average_speed, max_weight, max_weight_except

  # Routing profiles
  profiles:
    - name: truck
      custom_model_files: [dynop-truck.json]
      turn_costs:
        vehicle_types: [hgv, motorcar, motor_vehicle]

  # Contraction Hierarchies (CH) for faster routing
  profiles_ch:
    - profile: truck

# Sea routing configuration
sea:
  # Sea graph location (built by SeaLaneGraphBuilder)
  graph.location: /app/graph-cache/sea
  
  # UN/LOCODE port data directory
  unlocode.directory: /app/unlocode-data
  
  # Natural Earth land mask for graph building
  landmask.file: /app/natural-earth-data/ne_50m_land.shp
  
  # Port snapping configuration
  port_snapping:
    max_snap_distance_km: 300.0
  
  # Ship profile configuration
  profiles:
    - name: ship
      custom_model_files: [dynop-ship.json]
      turn_costs: false

# Dropwizard server configuration
server:
  application_connectors:
    - type: http
      port: 8080
  request_log:
    appenders: []